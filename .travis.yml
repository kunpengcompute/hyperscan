dist: bionic

os:
  - linux

arch:
  - arm64

addons:
  apt:
    update: true
  hosts:
    - node2

language: 
  - c++
  
script:  
  - cd ..
  - sudo apt-get install libboost-dev

  - wget http://www.colm.net/files/ragel/ragel-6.10.tar.gz
  - tar -zxf ragel-6.10.tar.gz
  - cd ./ragel-6.10
  - sudo ./configure
  - sudo make -j16
  - sudo make install
  
  - cd ./../hyperscan
  - rm -rf build
  - mkdir build
  - cd build
  - cmake .. -DCMAKE_CXX_FLAGS=-std=c++17
  - make -j8
  - sudo ./bin/unit-hyperscan